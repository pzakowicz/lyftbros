<div class="modal-content">
  <span class="close">&times;</span>
  <table id="fist-bumps-table">
  </table>
</div>

<script>
//get elements
const modal = document.getElementById("commentModal");
const closeButton = document.getElementsByClassName("close")[0];
const modalContent = document.getElementsByClassName("modal-content")[0];
const fistBumpsTable = document.getElementById("fist-bumps-table");

//show comment modal
async function showModal(e) {
  fistBumpsTable.innerHTML = "";
  let tableHeader = document.createElement("tr");
  tableHeader.innerHTML = `<th>Fist bumps</th>`;
  fistBumpsTable.appendChild(tableHeader);
  //get data about bros who gave bumps
  let elementId = e.id;
  let idArray = elementId.split("-");
  let workoutId = idArray[2];
  let response = await fetch(`/api/workouts/fist-bumps/${workoutId}`);
  let json = await response.json();
  let fistBumpArray = json.bumps;
  fistBumpArray.forEach(element => {
    let newFistBump = document.createElement("tr");
    newFistBump.innerHTML = `<td><a href="/users/${element.email}">${element.first_name} ${element.surname}</a></td>`
    fistBumpsTable.appendChild(newFistBump);
  });
  modal.style.display = "block";
}



//close the modal with a button
closeButton.onclick = function() {
  modal.style.display = "none";
}


// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
    modal.style.display = "none";
  }
}


</script>